\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{float}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{cleveref}
\usepackage{graphicx}
\usepackage{amsfonts} 
\usepackage[table,xcdraw]{xcolor}
\title{MDMM Project}
\author{Matino Ruben \\ Ritacco Antonio }
\date{June 2020}

\begin{document}

\maketitle

\section{Problema (N. 4)}

A shipping company has to send a set of orders over a multi-modal transportation network (trains +
trucks), represented as a directed graph where each arc has a unit transportation cost and a
maximum capacity (total amount of goods that can travel along that arc). Train arcs have far lower
transportation cost, have stricter capacity (railways are few w.r.t. roads) and are “longer” (only
reach a subset of nodes), while truck arcs have a higher transportation cost but larger capacity and
connect all nodes. Each order is represented by a given amount of goods, a starting node and an
ending node. To avoid possible mis-services to users, all the goods pertaining to the same order
have to be shipped together, i.e., along a single path; furthermore, the length of the path must not
exceed a prescribed constant k (nor very small, but not very large either). The problem is to find a
minimum-cost set of paths with the required property that allow to satisfy all the orders while
satisfying the arc capacity constraints.


\section{Modello matematico}
Il modello matematico che ci è sembrato più adeguato è il Minimum Cost Multicommodity Flow adattandolo al nostro caso  ed assumendo che dato un arco esso possa essere o solo di tipo stradale o solo di tipo ferroviario. Inoltre per soddisfare l'unicità dei cammini abbiamo aggiunto un vincolo \eqref{mod:v6} in cui imponiamo che dato un ordine, ogni nodo appartenente a quel cammino possa avere al più un arco uscente.
\subsection{Parametri}
\begin{itemize}
    \item \textbf{$N$} è l'insieme dei nodi.
    \item \textbf{$A$} è l'insieme degli archi.
    \item \textbf{$H$} è l'insieme degli ordini
    \item $u_{ij}$ capacità del collegamento $(i,j) > 0$ 
    \item $c_{ij}$ costo del collegamento $(i,j)$
    \item $d_h$ quantita' merce relativa ad ordine $h$
\end{itemize}

% \begin{itemize}
%     \item $b_i^h = 0$ se $i$ per gli altri $h$
%     \item  $b_i^h =-1$ se $i$ è un nodo origine per ordine $h$
%     \item $b_i^h =1$ se $i$ è un nodo destinazione per ordine $h$
% \end{itemize}

\subsection{Variabili Decisionali}
\begin{itemize}
    \item $y_{ij}^h$ $\in \{0,1\}$ arco di attivazione del collegamento stradale $(i,j)$ relativa all'ordine h
\end{itemize}

\subsection{Modello}

\label{problem1}
\begin{align}
    min (\sum_{(i,j) \in A}\sum_{h=1}^H c_{ij} \cdot y_{ij}^h)
    \label{mod:obj}
    \\
    (\sum_{j}y_{ji}^h)- (\sum_{j}y_{ij}^h ) = b_i^h, \; \; \forall i \in N, h=1, ... H
    \label{mod:v2}
    \\
    \sum_{(h=1)}^H y_{ij}^h \cdot d^h \leq u_{ij}, \; \; \forall (i,j) \in A
    \label{mod:v3}
    \\
    \sum_{(i,j)} y_{ij}^h  \leq K, \; \; h=1, ... H
    \label{mod:v4}
    \\
    \sum_{j} y_{ij}^h \leq 1, \; \; \forall i \in \textit{N} , h=1, ... H
    \label{mod:v5}
    \\
     y_{ij}^h \in \{0,1\}, \; \; \forall (i,j) \in A, h=1, ... H
    \label{mod:v6}
\end{align}



\begin{itemize}


    \item In \eqref{mod:obj} è presentata la funzione obiettivo. Questa consiste nella minimizzazione, per ogni ordine $h$, del costo di instradare la merce lungo una tratta composta possibilmente da ferrovie e/o strade.
    
    \item In \eqref{mod:v2} è presentato il vincolo di bilancio di flusso per ogni ordine $h \in H$.
    \begin{equation*}
    b_i =
    \begin{cases}
      -1, i = origine \\
      1, i = destinazione \\
      0, altrimenti
    \end{cases}
    \end{equation*}

    \item Le disequazioni \eqref{mod:v3} rappresenta i vincoli sulla capacita' degli archi.
    \item La disequazione \eqref{mod:v4} modella il vincolo di lunghezza massima del cammino $\leq K$.
    \item Infine, la disequazione \eqref{mod:v5} modella il vincolo di unicita' del cammino per ogni commodity.
    \item In \eqref{mod:v6} \`e invece presente il vincolo di interezza per le attivazioni degli archi.

\end{itemize}

% Please add the following required packages to your document preamble:
% \usepackage[table,xcdraw]{xcolor}
% If you use beamer only pass "xcolor=table" option, i.e. \documentclass[xcolor=table]{beamer}
\begin{table}[]
\begin{tabular}{llll
>{\columncolor[HTML]{C6EFCE}}l 
>{\columncolor[HTML]{FFEB9C}}l 
>{\columncolor[HTML]{FFEB9C}}l 
>{\columncolor[HTML]{FFEB9C}}l }
Nodi & PercFerr & K & Norder & {\color[HTML]{006100} Solver} & {\color[HTML]{9C6500} Costo} & {\color[HTML]{9C6500} Tempo} & {\color[HTML]{9C6500} Mem} \\
10 & 0,1 & 1 & 1 & {\color[HTML]{006100} 1} & {\color[HTML]{9C6500} 1} & {\color[HTML]{9C6500} 1} & {\color[HTML]{9C6500} 1} \\
10 & 0,1 & 2 & 1 & {\color[HTML]{006100} 1} & {\color[HTML]{9C6500} 1} & {\color[HTML]{9C6500} 1} & {\color[HTML]{9C6500} 1} \\
10 & 0,1 & 3 & 1 & {\color[HTML]{006100} 1} & {\color[HTML]{9C6500} 1} & {\color[HTML]{9C6500} 1} & {\color[HTML]{9C6500} 1}
\end{tabular}
\end{table}

\end{document}


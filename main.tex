\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{float}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{cleveref}
\usepackage{graphicx}
\usepackage{amsfonts} 
\usepackage[table,xcdraw]{xcolor}
\usepackage{mathtools}
\usepackage{todonotes}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\title{MDMM Project}
\author{Matino Ruben \\ Ritacco Antonio }
\date{June 2020}

\begin{document}

\maketitle

\section{Problema (N. 4)}

A shipping company has to send a set of orders over a multi-modal transportation network (trains +
trucks), represented as a directed graph where each arc has a unit transportation cost and a
maximum capacity (total amount of goods that can travel along that arc). Train arcs have far lower
transportation cost, have stricter capacity (railways are few w.r.t. roads) and are “longer” (only
reach a subset of nodes), while truck arcs have a higher transportation cost but larger capacity and
connect all nodes. Each order is represented by a given amount of goods, a starting node and an
ending node. To avoid possible mis-services to users, all the goods pertaining to the same order
have to be shipped together, i.e., along a single path; furthermore, the length of the path must not
exceed a prescribed constant k (nor very small, but not very large either). The problem is to find a
minimum-cost set of paths with the required property that allow to satisfy all the orders while
satisfying the arc capacity constraints.


\section{Modello matematico}
Il modello matematico che ci è sembrato più adeguato è il Minimum Cost Multicommodity Flow adattandolo al nostro caso  ed assumendo che dato un arco esso possa essere o solo di tipo stradale o solo di tipo ferroviario. Inoltre per soddisfare l'unicità dei cammini abbiamo aggiunto un vincolo \eqref{mod:v6} in cui imponiamo che dato un ordine, ogni nodo appartenente a quel cammino possa avere al più un arco uscente.
\subsection{Parametri}
\begin{itemize}
    \item \textbf{$N$} è l'insieme dei nodi.
    \item \textbf{$A$} è l'insieme degli archi.
    \item \textbf{$H$} è l'insieme degli ordini
    \item $u_{ij}$ capacità del collegamento $(i,j) > 0$ 
    \item $c_{ij}$ costo del collegamento $(i,j)$
    \item $d_h$ quantita' merce relativa ad ordine $h$
\end{itemize}

% \begin{itemize}
%     \item $b_i^h = 0$ se $i$ per gli altri $h$
%     \item  $b_i^h =-1$ se $i$ è un nodo origine per ordine $h$
%     \item $b_i^h =1$ se $i$ è un nodo destinazione per ordine $h$
% \end{itemize}

\subsection{Variabili Decisionali}
\begin{itemize}
    \item $y_{ij}^h$ $\in \{0,1\}$ arco di attivazione del collegamento $(i,j)$ relativa all'ordine h
\end{itemize}

\subsection{Modello}

\label{problem1}
\begin{align}
    min (\sum_{(i,j) \in A}\sum_{h=1}^H c_{ij} \cdot y_{ij}^h)
    \label{mod:obj}
    \\
    (\sum_{j}y_{ji}^h)- (\sum_{j}y_{ij}^h ) = b_i^h, \; \; \forall i \in N, h=1, ... H
    \label{mod:v2}
    \\
    \sum_{(h=1)}^H y_{ij}^h \cdot d^h \leq u_{ij}, \; \; \forall (i,j) \in A
    \label{mod:v3}
    \\
    \sum_{(i,j)} y_{ij}^h  \leq K, \; \; h=1, ... H
    \label{mod:v4}
    \\
    \sum_{j} y_{ij}^h \leq 1, \; \; \forall i \in \textit{N} , h=1, ... H
    \label{mod:v5}
    \\
     y_{ij}^h \in \{0,1\}, \; \; \forall (i,j) \in A, h=1, ... H
    \label{mod:v6}
\end{align}



\begin{itemize}


    \item In \eqref{mod:obj} è presentata la funzione obiettivo. Questa consiste nella minimizzazione, per ogni ordine $h$, del costo di instradare la merce lungo una tratta composta possibilmente da ferrovie e/o strade.
    
    \item In \eqref{mod:v2} è presentato il vincolo di bilancio di flusso per ogni ordine $h \in H$.
    \begin{equation*}
    b_i =
    \begin{cases}
      -1, i = origine \\
      1, i = destinazione \\
      0, altrimenti
    \end{cases}
    \end{equation*}

    \item Le disequazioni \eqref{mod:v3} rappresenta i vincoli sulla capacita' degli archi.
    \item La disequazione \eqref{mod:v4} modella il vincolo di lunghezza massima del cammino $\leq K$.
    \item Infine, la disequazione \eqref{mod:v5} modella il vincolo di unicita' del cammino per ogni commodity.
    \item In \eqref{mod:v6} \`e invece presente il vincolo di interezza per le attivazioni degli archi.

\end{itemize}


\section{Generatore di istanze}
La funzione $instance\_generator$ all'interno di \textbf{instance.py} viene utilizzata per la generazione dei files .cmpl mentre la funzione $generator$ all'interno dello script file \textbf{generator.py} si occupa della generazione dei parametri necessari all'istanza per essere creata generando direttamente il file .cmpl per ogni istanza del problema, con annesso modello matematico. Ogni istanze generata è infatti pronta per essere data in pasto ad un solutore che accetti istanze in formato .cmpl. I nostri test presentati nel paragrafo successivo sono stati effettuati utilizzando i solver $glpk$ e $cbc$. In questa sezione ci proponiamo di svolgere, quindi, i punti 2 e 3 del progetto.

\subsection{Istance.py}
Per ottenere le istanze del problema abbiamo deciso di implementare, utilizzando il linguaggio python, un generatore di file .cmpl che tenesse conto delle specifiche del problema per generare delle istanze realistiche. Il problema richiede infatti, che le strade colleghino ogni coppia di nodi e che le ferrovie siano presenti solo sui collegamenti "lunghi". Il nostro generatore, data una coppia $(i,j)$ crea un arco ferroviario tra $i$ e $j$ solo quando la seguente condizione è verificata:
\begin{align}
random.uniform[0,1] < \frac{|i -j|}{Nodes-1}\cdot perc\_att\_ferrovie
\end{align}
Dove, Nodes è il numero di nodi e $perc\_att\_ferrovie$ è un parametro scelto dall'utente in fase di creazione dell'istanza e compreso tra 0 ed 1. In questo modo, la probabilità che venga a crearsi un collegamento ferroviario tra $i$ e $j$ è tanto più alta quanto più i due nodi sono lontani. La probabilità è uguale ad 1 quando i due nodi sono il primo (1) e l'ultimo (Nodes). L'utente tramite il paramentro $perc\_att\_ferrovie$ è in grado di controllare ulteriormente il numero di ferrovie che possono venire a crearsi. 
\\
Il nostro generatore, genera quindi per ogni coppia di nodi, una strada e con probabilità variabile una ferrovia. Per scoraggiare l'utilizzo indiscriminato di strade su collegamenti lunghi (visto che le specifiche del problema indicavano che ogni coppia di nodi dovesse essere collegata almeno da una strada), abbiamo moltiplicato il costo del collegamento (stradale o ferroviario) per $|i-j|$ così che utilizzare più collegamenti, ma corti, abbia un costo generalmente inferiore.
\\
Visto che le specifiche richiedevano che i costi e le capacità delle ferrovie fossero minori delle strade, il generatore di istanze genera i costi e le capacità in maniera randomica ma all'interno di intervalli predefiniti, così da impedire che esista un collegamento stradale tra due nodi con un costo (capacità) minore della corrispettiva ferrovia (se creata).
\\
Altro parametro a cui abbiamo fatto attenzione è $K$ ossia il numero massimo di collegamenti servibili in un solo percorso. Nel nostro generatore $K$ è generato 4 volte per ogni istanza tenendo conto del numero di nodi e facendo in modo di avere $K$ crescenti a partire da valori bassi sino a valori leggermente più alti. In questo modo abbiamo potuto osservare come per una stessa istanza, $K$ influezzasse il risultato in termini di costo minimo e tempo di esecuzione.
\\
Infine, il numero di ordini $H$ è generato come : $\ceil*{\frac{Nodes}{2}}$

\subsection{Generator.py}
Per generare una sequenza di istanze .cmpl basta lanciare lo script generator.py con i seguenti parametri:

\begin{itemize}
    \item -nodes : Numero di nodi della rete, default [10,50,100]
    \item -patt : percentuale di attivazione delle ferrovie, default 0.9
\end{itemize}
Non viene esposto all'utente la possibilità di cambiare i costi e e le capacità minime e massime, così come la demand. Dopo alcuni tests ci è sembrato ragionevole utilizzare i seguenti valori di min e max come range per la generazione di valori random:
\begin{itemize}
    \item min\_demand : 50
    \item max\_demand : 100
    \item min\_costs\_strade : 50
    \item max\_costs\_strade : 75
    \item min\_costs\_ferrovie : 25
    \item max\_costs\_ferrovie : 45
\end{itemize}

Riguardo le capacità delle ferrovie abbiamo scelto di utilizzare il valore $max\_demand$ come \textbf{capacità minima ferroviaria} (così da non rischiare la creazione di ferrovie potenzialmente non utilizzabili per nessun ordine), mentre per la \textbf{capacità massima ferroviaria} abbiamo moltiplicato la capacità minima per $1.5$. Riguardo le strade, la \textbf{capacità minima stradale} è ottenuta sommando $1$ alla capacità massima delle ferrovie, mentre la \textbf{capacità massima stradale} è ottenuta raddoppiando la capacità minima.

\section{Implementazione e risultati}
Per testare come il generatore creasse istanze effettivamente più difficili da risolvere al variare dei parametri esposti all'utente, abbiamo lanciato una serie di esperimenti con i due solver : $cbc$ e $glpk$ ed usando i seguenti parametri del generatore:
\begin{itemize}
    \item Numero di nodi : 10, 50, 100
    \item Percentuale di attivazione delle ferrovie : 0.1, 0.5, 0.9
    \item K : variabile tra 1 e 25 in base al numero dei nodi, ma comunque usando 3 o 4 diversi K per ogni configurazione.
\end{itemize}
In totale abbiamo generato 66 diverse istanze .cmpl (per la stessa combinazione di $Nodes$ e $perc\_att\_ferr$ ci sono 3 o 4 istanze con gli stessi dati di input e solo $K$ diverso) i cui risultati (completi) sono mostrati in \cref{appendice}. In generale, abbiamo notato che utilizzando il solver $glpk$ la soluzione ottima viene trovata in un tempo inferiore rispetto a quella trovata con il solver $cbc$, fatta eccezione per casi sporadici. Come tempo massimo per la risoluzione del problema abbiamo utilizzato 300 secondi e le caratteristiche del pc sul quale abbiamo lanciato le esecuzioni sono le seguenti:
\begin{itemize}
    \item S.O. : Windows 10
    \item Processore : intel core i7-7700HQ 4 core (8 Threads)
    \item Ram : 16gb ddr4
    \item S.video : gtx 1060m
\end{itemize}
La percentuale di attivazione delle ferrovie influenza molto la facilità con la quale è trovata la soluzione ottima. Con 100 nodi e percentuale di attivazione $= 0.1$ come visibile in \cref{tab:perc01}, nessuno dei due solvers riesce a trovare la soluzione ottima in un tempo ragionevole tranne che per il caso con $k = 2$ e come solver $glpk$, questo perchè un K così basso rispetto al numero di possibili collegamenti riduce di molto lo spazio di ricerca. Con una percentuale di attivazione delle ferrovie $= 0.5$ e $=0.9$ le istanze da 100 nodi, vengono invece solo risolte da $glpk$ come visibile in \cref{tab:perc05} e \cref{tab:perc09} e con tempi generalmente inferiori.
Il parametro $k$ che controlla il numero massimo di archi attivabili per un singolo ordine, abbiamo notato che non influisce molto una volta che diventa sufficientemente grande. I miglioramenti più importanti in termini di costo minimo li abbiamo verificati quando si passava da $k = 2$ a $k = 6$. Probabilmente aumentando la distanza minima tra i nodi sorgente e nodi destinazione avremmo potuto vedere miglioramenti più consistenti in termini di costo minimo all'aumentare di $k$, ma al momento la generazione dei bilanci degli ordini è lasciata random.
\\
Per quanto riguarda le esecuzioni fallite con 100 nodi (\cref{tab:perc01}), riducendo il numero di collegamenti stradali ,passando quindi da un grafo completo ad uno sparso (impostando la probabilità di creare un collegamento stradale da 1 ad 0.1), il solver $glpk$ riesce in poco tempo a trovare la soluzione ottima. Non abbiamo però incluso questa serie di esperimenti, poichè le istanze non sarebbero state aderenti alla formulazione del problema. Aumentando il numero di nodi fino a 1000 e mantendo il grafo sparso, al contrario, non è stato possibile trovare neanche una soluzione ammissibile in meno di due ore (già la sola creazione del modello riempie le due ore a disposizione).


Osservando le tabelle è possibile notare un notevole incremento del tempo di calcolo al crescere delle dimensioni del problema, per problemi di piccole dimensiioni l'algoritmo si comporta abbastanza bene ottenendo soluzioni ottime in tempi accettabili; tuttavia aumentando le dimensioni del problema, il tempo di calcolo cresce esponenzialmente, raggiungendo valori non più accettabili. Il motivo per il quale si ottengono dei tempi di calcolo molto elevati sta nel fatto che questi algoritmi trovano velocemente la soluzione ottima, ma impiegano molto tempo per garantire l'ottimalità. In conclusione la risoluzione del problema mediante GLPK garantisce di fornire soluzioni ottime, ma le prestazioni in termini di tempo di calcolo sono decisamente scarse. Per problemii di piccole dimensioni l'algoritmo funziona abbastanza bene risolvendo il problema in tempi ragionevoli, incrementando le dimensiioni del problema il risultato fornito è sempre l'ottimo, ma il tempo di calcolo non è più accettabile. 


\section{Riformulazione e Risultati}

Allo scopo di ridurre i tempi di calcolo delle istanze nella quali il GAP tra il lower-bound e la soluzione trovata nei 5 minuti a disposizione del solutore era troppo alto, abbiamo provato due strategie:
\begin{itemize}
    \item Provare a ridurre l'upper-bound aggiungendo valid inequalities
    \item Utilizzare le soluzioni di un rilassamento lagrangeano per il nostro porblema e provare ad alzare il lower-bound
\end{itemize}
Riguardo la prima strategia abbiamo pensato di aggiungere al modello un vincolo che impedisca al solutore di cercare tra le soluzioni che avessero un ciclo di lunghezza 3. Più formalmente:
\begin{align}
    \sum_{(h=1)}^H y_{i_{1}i_{2}}^h + y_{i_{2}i_{3}}^h + y_{i_{3}i_{1}}^h \leq 2, \; \;
    \forall (i_1,i_2), (i_2,i_3), (i_3,i_1)   \in A ,
    i_1 < i_2 < i_3
\end{align}
Purtroppo, questo vincolo che in teoria avrebbe dovuto sveltire la risoluzione del problema, ha fatto aumentare di troppo i tempi di creazione del modello e non ci ha reso possibile vedere quanto avremmo potuto guadagnare in termini di riduzione del gap lavorando sull'upper bound.

Riguardo la seconda strategia, ossia quella tesa ad aumentare il lower-bound, abbiamo rilassato la formulazione del problema spostando i vincoli di capacità nella funzione obiettivo. La soluzione ottima del problema rilassato è un bound duale al valore ottimo del problema originale.
Il duale Lagrangeano del nostro modello è definito a partire dal rilassamento Lagrangeano dei vincoli complicanti 
\begin{align}
    \sum_{(h=1)}^H y_{ij}^h \cdot d^h \leq u_{ij}, \; \; \forall (i,j) \in A
    \label{eq:vcap}
\end{align}
ovvero:

\begin{align}
    \phi(w) = min (\sum_{(i,j) \in A}\sum_{h=1}^H c_{ij} \cdot y_{ij}^h + \sum_{(i,j) \in A} w_{ij} \cdot(\sum_{h=1}^H y_{ij}^h \cdot d^h - u_{ij})
    \label{mod:obj}
    \\
    (\sum_{j}y_{ji}^h)- (\sum_{j}y_{ij}^h ) = b_i^h, \; \; \forall i \in N, h=1, ... H
    \label{mod:v2}
    \\
    \sum_{(i,j)} y_{ij}^h  \leq K, \; \; h=1, ... H
    \label{mod:v4}
    \\
    \sum_{j} y_{ij}^h \leq 1, \; \; \forall i \in \textit{N} , h=1, ... H
    \label{mod:v5}
    \\
     y_{ij}^h \in \{0,1\}, \; \; \forall (i,j) \in A, h=1, ... H
    \label{mod:lag}
\end{align}


dove le variabili $w_{ij}$ sono i moltiplicatori lagrangeani (non negativi) associati ai vincoli rilassati.
Se z è il valore della funzione obiettivo del nostro modello all'ottimo, vale la relazione:
\begin{align}
 \phi(w) \leq z \; \;     \forall w \geq 0
\end{align}

Non è garantito comunque che anche scegliendo in modo ottimale i moltiplicatori lagrangeani si ottenga la soluzione ottima del problema originario, anche se tale soluzione è ammissibile. 
Nel nostro caso, non abbiamo utilizzato meccanismi di ottimizzazione per i moltiplicatori lagrangeani ma li abbiamo scelti, provandone alcuni valori e in modo che fossero costanti per tutti gli archi. In particolare, i valori testati nel rilassamento sono stati: 1, 0.5, 0.4 .
Questa scelta è stata guidata dal fatto che le capacità sono tutte dello stesso ordine di grandezza e direttamente proporzionali ai costi (per archi della stessa lunghezza). Lo script \emph{lagrange.py}, legge la soluzione del problema duale in .xml e la sostituisce nella formulazione originale del problema utilizzando il corrispondente file .cmpl.

Come è possibile vedere in tabella \todo{mettere la tabella del lagrangiano} risolvendo il duale lagrangeano si trovano lower-bound con valori maggiori rispetto a quelli trovati utilizzando la formulazione originale. Per la maggiorparte delle istanze dove il gap era abbastanza alto (>3\%) il gap è stato più che dimezzato mentre per le istanze con gap già abbastanza piccolo il guadagno non è stato molto importante.


\clearpage

\section{Tabelle e Immagini}
\label{appendice}

% Please add the following required packages to your document preamble:
% \usepackage[table,xcdraw]{xcolor}
% If you use beamer only pass "xcolor=table" option, i.e. \documentclass[xcolor=table]{beamer}
\begin{table}[htb]
\begin{tabular}{|l|l|l|l|
>{\columncolor[HTML]{C6EFCE}}l |
>{\columncolor[HTML]{FFEB9C}}l |
>{\columncolor[HTML]{FFEB9C}}l |}
\hline
Nodes & PercFerr & K & NOrder & {\color[HTML]{006100} Solver} & {\color[HTML]{9C6500} MinCost} & {\color[HTML]{9C6500} Time} \\ \hline
10 & 0.1 & 1 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 1407} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.1 & 1 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 1407} & {\color[HTML]{9C6500} 0,08s} \\ \hline
10 & 0.1 & 2 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 1033} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.1 & 2 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 1033} & {\color[HTML]{9C6500} 0,1s} \\ \hline
10 & 0.1 & 3 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 1014} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.1 & 3 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 1014} & {\color[HTML]{9C6500} 1,73s} \\ \hline
50 & 0.1 & 2 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 17459} & {\color[HTML]{9C6500} 17,2s} \\ \hline
50 & 0.1 & 2 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 17459} & {\color[HTML]{9C6500} 35s} \\ \hline
50 & 0.1 & 4 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 14784} & {\color[HTML]{9C6500} 6,9s} \\ \hline
50 & 0.1 & 4 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 14784} & {\color[HTML]{9C6500} 41s} \\ \hline
50 & 0.1 & 6 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 14734} & {\color[HTML]{9C6500} 6,5s} \\ \hline
50 & 0.1 & 6 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 14734} & {\color[HTML]{9C6500} 29s} \\ \hline
50 & 0.1 & 13 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 14734} & {\color[HTML]{9C6500} 6,1s} \\ \hline
50 & 0.1 & 13 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 14734} & {\color[HTML]{9C6500} 29s} \\ \hline
100 & 0.1 & 2 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 59549} & {\color[HTML]{9C6500} 735s} \\ \hline
100 & 0.1 & 2 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.1 & 7 & 50 & {\color[HTML]{006100} glpk} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.1 & 7 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.1 & 12 & 50 & {\color[HTML]{006100} glpk} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.1 & 12 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.1 & 25 & 50 & {\color[HTML]{006100} glpk} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.1 & 25 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
\end{tabular}
\caption{\label{tab:perc01} Risultati delle istanze con percentuale di attivazione ferrovie $= 0.1$}
\end{table}


% Please add the following required packages to your document preamble:
% \usepackage[table,xcdraw]{xcolor}
% If you use beamer only pass "xcolor=table" option, i.e. \documentclass[xcolor=table]{beamer}
\begin{table}[]
\begin{tabular}{|l|l|l|l|
>{\columncolor[HTML]{C6EFCE}}l |
>{\columncolor[HTML]{FFEB9C}}l |
>{\columncolor[HTML]{FFEB9C}}l |}
\hline
Nodes & PercFerr & K & NOrder & {\color[HTML]{006100} Solver} & {\color[HTML]{9C6500} MinCost} & {\color[HTML]{9C6500} Time} \\ \hline
10 & 0.5 & 1 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 874} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.5 & 1 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 874} & {\color[HTML]{9C6500} 0,12s} \\ \hline
10 & 0.5 & 2 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 740} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.5 & 2 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 740} & {\color[HTML]{9C6500} 1s} \\ \hline
10 & 0.5 & 3 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 740} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.5 & 3 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 740} & {\color[HTML]{9C6500} 0,13s} \\ \hline
50 & 0.5 & 2 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 15140} & {\color[HTML]{9C6500} 9s} \\ \hline
50 & 0.5 & 2 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 15140} & {\color[HTML]{9C6500} 35s} \\ \hline
50 & 0.5 & 4 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 13620} & {\color[HTML]{9C6500} 77s} \\ \hline
50 & 0.5 & 4 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 13620} & {\color[HTML]{9C6500} 40s} \\ \hline
50 & 0.5 & 6 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 13571} & {\color[HTML]{9C6500} 39s} \\ \hline
50 & 0.5 & 6 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 13571} & {\color[HTML]{9C6500} 37s} \\ \hline
50 & 0.5 & 13 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 13571} & {\color[HTML]{9C6500} 34s} \\ \hline
50 & 0.5 & 13 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 13571} & {\color[HTML]{9C6500} 34s} \\ \hline
100 & 0.5 & 2 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 56257} & {\color[HTML]{9C6500} 198s} \\ \hline
100 & 0.5 & 2 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.5 & 7 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 52391} & {\color[HTML]{9C6500} 3066s} \\ \hline
100 & 0.5 & 7 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.5 & 12 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 52391} & {\color[HTML]{9C6500} 2852s} \\ \hline
100 & 0.5 & 12 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.5 & 25 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 52391} & {\color[HTML]{9C6500} 2636s} \\ \hline
100 & 0.5 & 25 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
\end{tabular}
\caption{\label{tab:perc05} Risultati delle istanze con percentuale di attivazione ferrovie $= 0.5$}
\end{table}

% Please add the following required packages to your document preamble:
% \usepackage[table,xcdraw]{xcolor}
% If you use beamer only pass "xcolor=table" option, i.e. \documentclass[xcolor=table]{beamer}
\begin{table}[]
\begin{tabular}{|l|l|l|l|
>{\columncolor[HTML]{C6EFCE}}l |
>{\columncolor[HTML]{FFEB9C}}l |
>{\columncolor[HTML]{FFEB9C}}l |}
\hline
Nodes & PercFerr & K & NOrder & {\color[HTML]{006100} Solver} & {\color[HTML]{9C6500} MinCost} & {\color[HTML]{9C6500} Time} \\ \hline
10 & 0.9 & 1 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 1303} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.9 & 1 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 1303} & {\color[HTML]{9C6500} 0,11s} \\ \hline
10 & 0.9 & 2 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 852} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.9 & 2 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 852} & {\color[HTML]{9C6500} 0,04s} \\ \hline
10 & 0.9 & 3 & 5 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 852} & {\color[HTML]{9C6500} 0s} \\ \hline
10 & 0.9 & 3 & 5 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 852} & {\color[HTML]{9C6500} 0,04s} \\ \hline
50 & 0.9 & 2 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 15439} & {\color[HTML]{9C6500} 6s} \\ \hline
50 & 0.9 & 2 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 15439} & {\color[HTML]{9C6500} 24,12s} \\ \hline
50 & 0.9 & 4 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 14535} & {\color[HTML]{9C6500} 9s} \\ \hline
50 & 0.9 & 4 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 14535} & {\color[HTML]{9C6500} 28,64s} \\ \hline
50 & 0.9 & 6 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 14515} & {\color[HTML]{9C6500} 8s} \\ \hline
50 & 0.9 & 6 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 14515} & {\color[HTML]{9C6500} 28,97s} \\ \hline
50 & 0.9 & 13 & 25 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 14515} & {\color[HTML]{9C6500} 8s} \\ \hline
50 & 0.9 & 13 & 25 & {\color[HTML]{006100} cbc} & {\color[HTML]{9C6500} 14515} & {\color[HTML]{9C6500} 31s} \\ \hline
100 & 0.9 & 2 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 49034} & {\color[HTML]{9C6500} 524s} \\ \hline
100 & 0.9 & 2 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.9 & 7 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 45577} & {\color[HTML]{9C6500} 5856s} \\ \hline
100 & 0.9 & 7 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.9 & 12 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 45577} & {\color[HTML]{9C6500} 4502s} \\ \hline
100 & 0.9 & 12 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
100 & 0.9 & 25 & 50 & {\color[HTML]{006100} glpk} & {\color[HTML]{9C6500} 45577} & {\color[HTML]{9C6500} 4200s} \\ \hline
100 & 0.9 & 25 & 50 & {\color[HTML]{006100} cbc} & \multicolumn{1}{r|}{\cellcolor[HTML]{FFEB9C}{\color[HTML]{9C6500} NoSol}} & {\color[HTML]{9C6500} } \\ \hline
\end{tabular}
\caption{\label{tab:perc09} Risultati delle istanze con percentuale di attivazione ferrovie $= 0.9$}
\end{table}


\clearpage



\end{document}
